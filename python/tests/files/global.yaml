%YAML 1.2
# Configuration for tematika.com application
---
name:                       Tematika
version:                    0.1
date:                       2011-09-28
encoding:                   UTF-8
instance_types:
    - import
    - generator_master
    - generator_processor
content:
    templates:
        engine:             jinja2
        tables:
            html:           ContentPageTemplate
            json:           ContentJsonTemplate
            css:            ContentCSSTemplate
    static:             
        tables:
            javascript:     ContentScript
            images:         ContentImage
aws:
    groups:
        - admin
        - script
    users:
        asanchez:
            groups:         [ admin ]
            password:       Yes
        jcampanello:
            groups:         [ admin ]
            password:       Yes
        mgoldsman:
            groups:         [ admin ]
            password:       Yes
        generator:
            groups:         [ script ]
            password:       No
    buckets:
        tmk_a:
            name:           tmk-a
    instances:
        linux:
            ami_id:         ami-7f418316
        windows:
            ami_id:         ami-92ba43fb
site_dev:   &site_dev
    cookies:
        status:
            name:           tmkstatus
            expires:        7200     # 2 hours aprox
            host:           www      # www.example.com
            path:           /
        state:
            name:           tmkstate
            crypto:         aes-cbc
            auth:           hmac-sha256
            expires:        7200     # 2 months aprox
            flags:          [ HTTPOnly ]  # no ssl on localhost
            host:           secure   # secure.example.com
            path:           /
site_prod:   &site_prod
    cookies:
        status:
            name:           tmkstatus
            expires:        7200  # 2 hours aprox
            host:           www      # www.example.com
            path:           /
        state:
            name:           tmkstate
            crypto:         aes-cbc
            auth:           hmac-sha256
            expires:        5184000  # 2 months aprox
            flags:          [ HTTPOnly, Secure ]
            host:           secure   # secure.example.com
            path:           /
databases:
   default:            ecommerce
   database:
       name:           ecommerce
       engine:         postgresql
       python-lib:     psycopg2
       host:           localhost
       port:           5432
       user:           usuario
       password:       password
       database:       ecommerce
   database:
       name:           otra
       engine:         sqllite
       python-lib:     pysqllite
       path:           /some/path
       database:       sqldummy
environments:
    dev_local:
        description:        Ambiente de desarrollo local PostgreSQL
        base_domain:        dev.local
        os:                 linux
        db_engine:          postgresql
        db_server:          localhost      # Internal DNS host
        db_port:            5432
        site:               *site_dev
        repository:
            type:           folder
            local:
            main:           /var/local/dev
            content:
                pages:      pages
                static:     static
    dev:
        description:        Ambiente de desarrollo en AWS 1
        base_domain:        testmatika.com
        db_engine:          postgresql
        db_server:          dev.testmatika.com  # Internal DNS host
        db_port:            5432
        site:               *site_dev
        repository:
            type:           s3
            content:
                pages:      tmk-dev-pages
                static:     tmk-dev-static
    prod:
        description:        Ambiente de produccion en AWS
        base_domain:        tematika.com
        db_engine:          postgresql
        db_server:          db.testmatika.com  # Internal DNS host
        db_port:            5432
        site:               *site_prod
        repository:
            type:           s3
            content:
                pages:      tmk-prod-pages
                static:     tmk-prod-static
fullfillment:
    server:                 backend.ilhsa.com
    # ??????
search:
    tables:
        keywords:
            title:          [ KeywordTitle, KeywordsTitleFTS ]
            author:         [ KeywordAuthor, KeywordAuthorFTS ]
        ranking:            ProductRanking        # id - rank 0-10
        mispelling:         Mispelling  # (Poter - Potter, 8)
    weight:                 # 0 - 10 weight
        keywords:
            title:          8
            author:         8
            subtitle:       4
            description:    2
        ranking:            7   #  rank scaled 0-10 times this
